{"version":3,"sources":["webpack:///D:/渡一/Level2/uniapp/miniChat_project/components/ArticleList/ArticleList.vue?752a","webpack:///D:/渡一/Level2/uniapp/miniChat_project/components/ArticleList/ArticleList.vue?a449","webpack:///D:/渡一/Level2/uniapp/miniChat_project/components/ArticleList/ArticleList.vue?8c29","webpack:///D:/渡一/Level2/uniapp/miniChat_project/components/ArticleList/ArticleList.vue?251f","uni-app:///components/ArticleList/ArticleList.vue","webpack:///D:/渡一/Level2/uniapp/miniChat_project/components/ArticleList/ArticleList.vue?bb2f","webpack:///D:/渡一/Level2/uniapp/miniChat_project/components/ArticleList/ArticleList.vue?7b09"],"names":["name","props","labelList","activeIndex","data","articleData","loadData","page","pageSize","created","watch","methods","changeActiveIndex","_getArticleList","loading","total","classify","articleList","oldList","loadMoreData"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACc;;;AAGxE;AAC0L;AAC1L,gBAAgB,8LAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA2tB,CAAgB,0sBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCc/uB;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACAR;MACA;MACA;MACA,uBACA,oBACA;IACA;EACA;EACAS;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;MACA;IAEA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;kBACA;oBACAN;oBACAO;oBACAC;kBACA;gBACA;gBAAA;gBAAA;gBAAA,OACA;kBACAC;kBACAT;kBACAC;gBACA;cAAA;gBAAA;gBAJAS;gBAAAF;gBAKA;gBACAG;gBACAA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MACA;QACA,kEACA,kCACA;UAAAL;QAAA,EACA;QACA;QACA;QACA;MACA;MAAA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;ACjGA;AAAA;AAAA;AAAA;AAAk2C,CAAgB,6vCAAG,EAAC,C;;;;;;;;;;;ACAt3C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/ArticleList/ArticleList.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ArticleList.vue?vue&type=template&id=07ff9dae&\"\nvar renderjs\nimport script from \"./ArticleList.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/ArticleList/ArticleList.vue\"\nexport default component.exports","export * from \"-!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleList.vue?vue&type=template&id=07ff9dae&\"","var components\ntry {\n  components = {\n    ListItem: function () {\n      return import(\n        /* webpackChunkName: \"components/ListItem/ListItem\" */ \"@/components/ListItem/ListItem.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleList.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 文章列表容器  滑动屏 -->\n\t<swiper class=\"swiper-container\" :current=\"activeIndex\" @change=\"changeActiveIndex\">\r\n\t\t<swiper-item v-for=\"(item,index) in labelList\" :key=\"item._id\">\r\n\t\t\t<view class=\"swiper-item\">\r\n\t\t\t\t<!-- 文章内容区 -->\r\n\t\t\t\t<ListItem :loadData=\"loadData[index]\" :articleList=\"articleData[index]\" @loadMore=\"loadMoreData\"></ListItem>\r\n\t\t\t</view>\r\n\t\t</swiper-item>\r\n\t</swiper>\r\n\t\n</template>\n\n<script>\n\texport default {\n\t\tname:\"ArticleList\",\r\n\t\tprops:{\r\n\t\t\tlabelList:Array,\r\n\t\t\tactiveIndex:Number,\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tarticleData:{},//索引的文章数据\r\n\t\t\t\tloadData:{},//保存不同分类加载的文章数据、页数等信息\r\n\t\t\t\tpage:1,//第几页\r\n\t\t\t\tpageSize:6,//每页显示几条\n\t\t\t};\n\t\t},\r\n\t\tcreated(){\r\n\t\t\t// labelList有值时请求数据 如果没有值请求数据会报错\r\n\t\t\tthis.labelList.length&&this._getArticleList(this.activeIndex);\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\t// 当labelList改变时，文章数据重新渲染\r\n\t\t\t// labelList的变动依赖userInfo，当userInfo发生改变时，labelList也会重新计算一次\r\n\t\t\t// 依次可以使用JSON.stringify来判断新值和旧值是否一致，一致则不重新计算labelList\r\n\t\t\tlabelList(newValue,oldValue){\r\n\t\t\t\tif(JSON.stringify(newValue) === JSON.stringify(oldValue)) return;\r\n\t\t\t\t// 重新渲染时对下面数据重新赋值，避免保存之前的数据导致页面渲染时出错\r\n\t\t\t\tthis.articleData = {},\r\n\t\t\t\tthis.loadData = {},\r\n\t\t\t\tthis._getArticleList(this.activeIndex);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tchangeActiveIndex({detail}){\r\n\t\t\t\t// 子组件向父子间抛出事件\r\n\t\t\t\tconst index = detail.current;\r\n\t\t\t\tthis.$emit('changeActiveIndex',index);\r\n\t\t\t\t// 如果articleData对象中没有该项或为空，则重新请求数据，有则不用\r\n\t\t\t\tif(!this.articleData[index]||!this.articleData[index].length){\r\n\t\t\t\t\t// 当页面滑动时文章类型也应该发生改变，因此需要重新请求数据\r\n\t\t\t\t\tthis._getArticleList(index);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 数据的请求\r\n\t\t\tasync _getArticleList(index){\r\n\t\t\t\t// 指定每一个分类里的页数信息\r\n\t\t\t\tif(!this.loadData[index]){\r\n\t\t\t\t\tthis.loadData[index]={\r\n\t\t\t\t\t\tpage:1,\r\n\t\t\t\t\t\tloading:'loading',\r\n\t\t\t\t\t\ttotal:0\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tconst {articleList,total}=await this.$http.get_article_list({\r\n\t\t\t\t\tclassify:this.labelList[index].name,\r\n\t\t\t\t\tpage:this.loadData[index].page,\r\n\t\t\t\t\tpageSize:this.pageSize\r\n\t\t\t\t});\r\n\t\t\t\t//追加每一次的请求数据结果\r\n\t\t\t\tlet oldList = this.articleData[index] || [];\r\n\t\t\t\toldList.push(...articleList);\r\n\t\t\t\t//使新添加到articleData中的数据仍保持响应式，使用$set方法\r\n\t\t\t\t// 参数：准备添加属性的对象或数组  索引或属性名  添加值\r\n\t\t\t\tthis.$set(this.articleData,index,oldList);\r\n\t\t\t\tthis.loadData[index].total = total;\r\n\t\t\t\t// 根据索引存放不同页面类型的数据进行存放，避免重复请求\r\n\t\t\t\tthis.articleData[index] = oldList;\r\n\t\t\t\t// console.log(oldList);\r\n\t\t\t},\r\n\t\t\t// 触底加载更多数据\r\n\t\t\tloadMoreData(){\r\n\t\t\t\tif(this.loadData[this.activeIndex].total === this.articleData[this.activeIndex].length){\r\n\t\t\t\t\tthis.loadData[this.activeIndex] = {\r\n\t\t\t\t\t\t...this.loadData[this.activeIndex],\r\n\t\t\t\t\t\t...{loading:'noMore'}\r\n\t\t\t\t\t};\r\n\t\t\t\t\t// 改变对象某一个属性时不会引起对象的重新渲染，因此需要强制刷新\r\n\t\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t};\r\n\t\t\t\tthis.loadData[this.activeIndex].page++;\r\n\t\t\t\tthis._getArticleList(this.activeIndex);\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n.swiper-container{\r\n\theight:100vh;\r\n\t.swiper-item{\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t}\r\n}\n</style>","import mod from \"-!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleList.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1690339967168\n      var cssReload = require(\"D:/Hbuilder/install/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}